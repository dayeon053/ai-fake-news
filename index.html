<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 사진 퀴즈</title>
    <!-- Tailwind CSS 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter 폰트 (Tailwind 기본) */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .transition-all {
            transition: all 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-indigo-900 text-white min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-lg mx-auto">
        
        <!-- 퀴즈 컨테이너 -->
        <div id="quiz-container" class="bg-indigo-800 p-6 md:p-8 rounded-2xl shadow-2xl">
            <!-- 문제 번호 -->
            <h2 id="question-number" class="text-2xl font-bold text-center mb-4">Q1.</h2>
            
            <!-- 이미지 -->
            <div class="mb-6 rounded-lg overflow-hidden shadow-lg min-h-[200px] bg-indigo-700 flex items-center justify-center">
                <img id="question-image" src="" alt="퀴즈 이미지" class="w-full h-auto object-cover">
            </div>
            
            <!-- 질문 -->
            <p id="question-text" class="text-lg text-center mb-6">이 사진, AI가 만들었을까요?<br>맞다면 O, 틀리면 X</p>
            
            <!-- 선택 버튼 -->
            <div id="options-container" class="flex flex-col md:flex-row gap-4">
                <button id="btn-o" class="w-full bg-white text-indigo-900 text-2xl font-bold py-6 rounded-full shadow-lg hover:bg-gray-200 transition-all transform hover:scale-105">
                    O
                </button>
                <button id="btn-x" class="w-full bg-white text-indigo-900 text-2xl font-bold py-6 rounded-full shadow-lg hover:bg-gray-200 transition-all transform hover:scale-105">
                    X
                </button>
            </div>
        </div>

        <!-- 정답 확인 모달 (초기 숨김) -->
        <div id="result-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50">
            <div class="bg-white text-gray-900 p-8 rounded-2xl shadow-2xl text-center w-full max-w-md">
                <h3 id="result-title" class="text-3xl font-bold mb-4">정답입니다!</h3>
                <p id="result-explanation" class="text-lg mb-8">이 사진은 진짜 사진입니다.</p>
                <button id="next-question-btn" class="w-full bg-indigo-700 text-white py-3 px-6 rounded-full text-lg font-semibold hover:bg-indigo-800 transition-all">
                    다음 문제
                </button>
            </div>
        </div>

        <!-- 최종 결과 컨테이너 (초기 숨김) -->
        <div id="final-result-container" class="hidden text-center bg-indigo-800 p-8 rounded-2xl shadow-2xl">
            <h2 class="text-3xl font-bold mb-4">퀴즈 완료!</h2>
            <p id="final-score" class="text-2xl mb-8">5 문제 중 0 문제를 맞혔습니다.</p>
            <button id="restart-btn" class="w-full bg-white text-indigo-900 py-3 px-6 rounded-full text-lg font-semibold hover:bg-gray-200 transition-all">
                다시 시작하기
            </button>
        </div>

    </div>

    <script>
        // --- 퀴즈 데이터 ---
        // 깃허브 'images' 폴더에 업로드한 파일 이름과 정확히 일치시켰습니다.
        const questions = [
            {
                imageUrl: "images/스크린샷 2025-11-06 190906.png", // 1번 (AI)
                isReal: false, // AI 생성
                answerExplanation: "이 사진은 AI가 생성한 이미지입니다. (정답: O)"
            },
            {
                imageUrl: "images/2번O.png", // 2번 (진짜)
                isReal: true , // 진짜 사진
                answerExplanation: "진짜 풍경입니다~ (정답: X)"
            },
            {
                imageUrl: "images/3번 O.png", // 3번 (진짜)
                isReal: true , // 진짜 사진 
                answerExplanation: "이 사진은 진짜 사진입니다. (정답: X)"
            },
            {
                imageUrl: "images/ai4.jpg", // 4번 (AI)
                isReal: false, // AI 생성
                answerExplanation: "ai가 생성한 동물입니다! (정답: O)"
            },
            {
                imageUrl: "images/ai5.png", // 5번 (AI)
                isReal: false, // AI 생성
                answerExplanation: "가짜 글빛도서관입니다. (정답: O)"
            }
        ];
        // ---------------------

        let currentQuestionIndex = 0;
        let score = 0;

        // DOM 요소 가져오기
        const quizContainer = document.getElementById('quiz-container');
        const questionNumberEl = document.getElementById('question-number');
        const questionImageEl = document.getElementById('question-image');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const btnO = document.getElementById('btn-o');
        const btnX = document.getElementById('btn-x');

        const resultModal = document.getElementById('result-modal');
        const resultTitleEl = document.getElementById('result-title');
        const resultExplanationEl = document.getElementById('result-explanation');
        const nextQuestionBtn = document.getElementById('next-question-btn');

        const finalResultContainer = document.getElementById('final-result-container');
        const finalScoreEl = document.getElementById('final-score');
        const restartBtn = document.getElementById('restart-btn');

        // 첫 번째 문제 로드
        loadQuestion();

        // 이벤트 리스너 설정
        btnO.addEventListener('click', () => handleGuess(true)); // 'O' (AI가 만들었다)
        btnX.addEventListener('click', () => handleGuess(false)); // 'X' (AI가 안 만들었다/진짜다)
        nextQuestionBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', restartQuiz);

        // 함수: 문제 로드
        function loadQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showFinalResults();
                return;
            }

            const currentQuestion = questions[currentQuestionIndex];
            
            questionNumberEl.textContent = `Q${currentQuestionIndex + 1}.`;
            questionImageEl.src = currentQuestion.imageUrl;
            questionTextEl.innerHTML = "이 사진, AI가 만들었을까요?<br>맞다면 O, 틀리면 X";
            
            // 버튼 활성화
            btnO.disabled = false;
            btnX.disabled = false;
            optionsContainer.classList.remove('opacity-50', 'pointer-events-none');
            
            // 모달 숨기기
            resultModal.classList.add('hidden');
        }

        // 함수: 사용자 추측 처리
        function handleGuess(userGuessedAI) { // userGuessedAI: true='O', false='X'
            const currentQuestion = questions[currentQuestionIndex];
            
            const isCorrect = (currentQuestion.isReal === false && userGuessedAI === true) || 
                              (currentQuestion.isReal === true && userGuessedAI === false);

            if (isCorrect) {
                resultTitleEl.textContent = "정답입니다!";
                resultTitleEl.className = "text-3xl font-bold mb-4 text-blue-600";
                score++;
            } else {
                resultTitleEl.textContent = "틀렸습니다!";
                resultTitleEl.className = "text-3xl font-bold mb-4 text-red-600";
            }

            resultExplanationEl.textContent = currentQuestion.answerExplanation;

            // 버튼 비활성화
            btnO.disabled = true;
            btnX.disabled = true;
            optionsContainer.classList.add('opacity-50', 'pointer-events-none');

            // 다음/결과 버튼 텍스트 변경
            if (currentQuestionIndex === questions.length - 1) {
                nextQuestionBtn.textContent = "결과 보기";
            } else {
                nextQuestionBtn.textContent = "다음 문제";
            }

            // 모달 표시
            resultModal.classList.remove('hidden');
        }

        // 함수: 다음 문제
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showFinalResults();
            }
        }

        // 함수: 최종 결과 표시
        function showFinalResults() {
            quizContainer.classList.add('hidden');
            resultModal.classList.add('hidden');
            finalResultContainer.classList.remove('hidden');
            
            finalScoreEl.textContent = `${questions.length} 문제 중 ${score} 문제를 맞혔습니다.`;
        }

        // 함수: 퀴즈 다시 시작
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            
            finalResultContainer.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            
            loadQuestion();
        }

    </script>
</body>
</html>
